<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="MemberVO">

	<select id="memberLogin" parameterType="Map"  resultType="MemberVO">
		select 
			member_no as memberNo,
  			member_email as memberEmail,
  			member_pw as memberPw,
  			member_name as memberName,
  			member_hbd as memberHbd,
  			member_nickname as memberNickname,
  			member_phone as memberPhone,
  			member_img as memberImg,
  			member_bank as memberBank,
  			member_account as memberAccount,
  			member_time as memberTime,
  			member_level as memberLevel,
  			member_status as memberStatus,
  			member_intro as memberIntro,
  			member_field as memberField,
  			member_skill as memberSkill,
  			member_school as memberSchool,
  			member_major as memberMajor,
  			member_grade as memberGrade,
  			member_date as memberDate
  			from member where member_email = #{memberEmail} and member_pw = #{memberPw} and member_level=2
	</select>

	<select id="selectList" parameterType="Map"  resultType="MemberVO">
		select *
		 from(select rownum as rnum, n.* from
		(select 
			member_no as memberNo,
  			member_email as memberEmail,
  			member_pw as memberPw,
  			member_name as memberName,
  			member_hbd as memberHbd,
  			member_nickname as memberNickname,
  			member_phone as memberPhone,
  			member_img as memberImg,
  			member_bank as memberBank,
  			member_account as memberAccount,
  			member_time as memberTime,
  			member_level as memberLevel,
  			member_status as memberStatus,
  			member_intro as memberIntro,
  			member_field as memberField,
  			member_skill as memberSkill,
  			member_school as memberSchool,
  			member_major as memberMajor,
  			member_grade as memberGrade,
  			member_date as memberDate
		from member order by member_no desc)n)
		where rnum between #{start} and #{end}
	
	</select>
	
	<select id="totalCount" resultType="_int">
		select count(*) as cnt from member
	</select>
	
	
	
  	<select id="selectOneMember" parameterType="int" resultType="MemberVO">
		select 
			member_no as memberNo,
  			member_email as memberEmail,
  			member_pw as memberPw,
  			member_name as memberName,
  			member_hbd as memberHbd,
  			member_nickname as memberNickname,
  			member_phone as memberPhone,
  			member_img as memberImg,
  			member_bank as memberBank,
  			member_account as memberAccount,
  			member_time as memberTime,
  			member_level as memberLevel,
  			member_status as memberStatus,
  			member_intro as memberIntro,
  			member_field as memberField,
  			member_skill as memberSkill,
  			member_school as memberSchool,
  			member_major as memberMajor,
  			member_grade as memberGrade,
  			member_date as memberDate 
  			from member where member_no = #{num}
	</select>
</mapper>