<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="member">
	
	<select id="selectOneMember3" parameterType="member" resultType="member">
		select 
         member_no as memberNo,
         member_email as memberEmail,
         member_pw as memberPw,
         member_name as memberName,
         member_hbd as memberHbd,
         member_nickname as memberNickname,
         member_phone as memberPhone,
         member_img as memberImg,
         member_bank as memberBank,
         member_account as memberAccount,
         member_time as memberTime,
         member_level as memberLevel,
         member_status as memerStatus,
         member_intro as memberIntro,
         member_field as memberField,
         member_skill as memberSkill,
         member_school as memberSchool,
         member_major as memberMajor,
         member_grade as memberGrade,
         member_date as memberDate
      from member
      	where member_email=#{memberEmail} and member_pw=#{memberPw}
	</select>
	
	<select id="selectOneMember2" parameterType="MemberDataVO" resultType="MemberDataVO">
		select 
         member_no as memberNo,
         member_email as memberEmail,
         member_pw as memberPw,
         member_name as memberName,
         member_hbd as memberHbd,
         member_nickname as memberNickname,
         member_phone as memberPhone,
         member_img as memberImg,
         member_bank as memberBank,
         member_account as memberAccount,
         member_time as memberTime,
         member_level as memberLevel,
         member_status as memerStatus,
         member_intro as memberIntro,
         member_field as memberField,
         member_skill as memberSkill,
         member_school as memberSchool,
         member_major as memberMajor,
         member_grade as memberGrade,
         member_date as memberDate,
         type_free as typeFree,
         company_name as companyName,
         company_department as companyDepartment,
         company_job_title as companyJobTitle,
         company_job_mon as companyJobMon,
         license_name as licenseName,
         license_date as licenseDate,
         license_agency as licenseAgency
      from member
      left join
      career using (member_no) 
      left join license using(member_no)
	</select>
	
	<update id="updateMemberLevel" parameterType="member">
		update member set member_level=0 where member_nickname=#{memberNickname}
	</update>
	
	<update id="updateMemberLevel2" parameterType="member">
		update member set member_level=1 where member_nickname=#{memberNickname}
	</update> 
	<select id="selectOneMember4" parameterType="member" resultType="member">
		select 
         member_no as memberNo,
         member_email as memberEmail,
         member_pw as memberPw,
         member_name as memberName,
         member_hbd as memberHbd,
         member_nickname as memberNickname,
         member_phone as memberPhone,
         member_img as memberImg,
         member_bank as memberBank,
         member_account as memberAccount,
         member_time as memberTime,
         member_level as memberLevel,
         member_status as memerStatus,
         member_intro as memberIntro,
         member_field as memberField,
         member_skill as memberSkill,
         member_school as memberSchool,
         member_major as memberMajor,
         member_grade as memberGrade,
         member_date as memberDate
      from member
      	where member_nickname=#{memberNickname}
	</select>
</mapper>
